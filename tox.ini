[tox]
minversion = 3.24
envlist = clean, report, py{39,310}
isolated_build = True

[testenv]
description = Invoke pytest to run automated tests
setenv =
    TOXINIDIR = {toxinidir}
passenv =
    HOME
    SETUPTOOLS_*
    PYTHONPATH
commands =
        pytest {posargs}
deps = -rrequirements.txt
depends =
        {py39, py310}: clean
        report: py39, py310

[testenv:report]
deps = coverage
skip_install = true
commands = coverage report
           coverage html

[testenv:clean]
deps = coverage
skip_install = true
commands = coverage erase


envlogdir = ./logs